language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "24333f8a63b6825ea9c5514f83c2829b004d1fee" > "$ANDROID_HOME/licenses/android-sdk-license"
  - chmod +x gradlew
  - chmod +x .buildscript/deploy_snapshot.sh

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
    - secure: "fFSVKL/peB7Vo+eeNqvmuzIbe1eaOH28Iyn4F3PhPdO3w57sE+PWnZXCVhoGNoShqhNCCTvxmVOkfVMJ9fHnghAKstdcCDcSd9JP9SO+tMTAggyjY3HbZLXODc5qZ8WuTWnnQS1TSHjXGzc3K8arJVYZGgXhRCXpgzPlFfcpQAAiCTnPWrvDRPIcAn8hcmN3p87eKCh3+f6nEINl6+VQFwRRd6Id1FXmVHUtZkFmZEyWAnNnCW6noBvtMVGv6NLzsDvPE87BrWvgHkz1Sms/D1fxWGj3FLeXs/ZvVCrU/HT6ip9kJsiYxG2K6uj/LaZGsyaWzcys9yTPFOhxJQNEpVp5US6vjNVFOUX7UMNDC0KTK+mg9fFIyjri/UP3p4tOChZumeZ1arVtPf4aGy7q06+K+Ygqt1eMuD9KkBC5eMAwcuDCTWpuPI4LM7/qOUW5C9J8x8GWN8Zp0UcIgB0RZmtsHT6cbtgVxTIzzmHPSSF79a6XpDuWWS9w6VBJ7RNCq4UyZn0q/pm8tEXgN9mBbg+o4Mg+Fkz3oI4COSXp46hH7JV9MoF6z84IcpBZINfT7D95873dreR779RYEiEC243Ei7L0Wq0EQMoMUHwPm4Tpj4pp3mPecIYYLdKJ2VrPOjHsU18yw7YYfWSf9xcuc+cpIeBcCG3lJDSCMlwftBM="
    - secure: "gh9+5Fii+GkMNHXs7806WDC2rNlYAZ4SrjAu0U2qibb0rnmPKc0PtLWcXNJTuCT0D5UwzFzsDQztFzUYr9VVePXnR/vheGmzPiqLpcWcjOXYCNDU9wKYka4L0MoIqy/T8An0hFQmM6mucwcH8XWIwy/hnTC8WmsFuVnilTYwGY1sqSbZ28dTaCoKQTFoKNa/5H2R818iAsPedMZZTp5sJyG6p/uGffUzxrlSiMXdb2M9ZEqdcFDewTnvjhlMHeUsXtU3GTeLu2pxzWaFjTWmgPs3usqYf45/TMEf0uNLUoNRaZgSkt6AWRV0qxjLSWUnzanNDkZXkKaT3dkjE6OPXZse3KIHdgYTvkybUrF7n47u5VUj+PpUA4uVOnRQCxNa8fiLIcWRi0nNbes0pHygPRAQuwSVZBlkbeclPdCcsGq73GDMinG7RoSw4ECGpFZJrQkQxqLRAMkX1hXRxP0845neHtOznHkatMhCoSARXOKmzNFUaY/TwIe6feDOjdy7qcQ4PDuGq7+XjAegxrOZexljEWJm1NOdx0WxREjElAZSPdD4zV8QW2retfU2nURQfNYUG9puTX7fZFjgTDR3Qv0R1pQqXaQjtyH/ADb9GaHIvikO+DpsZJHGnfezNEiZJEdccK72+wto6PWZju2H//0H4KIWQ6av7DuQMcZ5VKM="

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle

sudo: false