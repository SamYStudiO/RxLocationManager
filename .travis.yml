language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "24333f8a63b6825ea9c5514f83c2829b004d1fee" > "$ANDROID_HOME/licenses/android-sdk-license"
  - chmod +x gradlew
  - chmod +x .buildscript/deploy_snapshot.sh

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
    - secure: "Vm85syC18vJkhzQ5iWhgF6T1cYZQBURtIyAlzJk/eH+5celMHFTscNC8dCMSpElmmclUoj6ykUNQNegXkMqMmztMi8f42gmXYByjGxlI2r7G3TJr+EEc7oPaofp5MKgJeg7ZHHq3kXr871hIspcLdRZy257aJBxMydna/KFHWIOIfqCsQ1RPuWbVBkQcFEC+6DZQKxMWOH5y7p9rmZ+gg3rOAo3L1Sv668+CIQrikqnELZzu7yaaHGuxuu1tJbO7xD3FqpqJINGJz+8+FXYONmgs2H2Sg+o/lQBjWcpcoz7RDOfQ9QfoNjqtg0EPSIYOppT88ocebZZQpFTvzokqISgCp/IWEA2MxXjzhlouNronjX+IXMSV3RDkcXmOmkTz+VGjjFlgMcLFbzZQOslDndIcoqB+gQUI/TZBotXdwwVIlgtxl2hqtq5z9KM5Cg1BYquRjc+9HUTbiEpbvNg/KjXWjtl6cMuLuKwJeJVFFsfKJ46sRvgoZlGX+jx2xWdhVw+hrsz3lCEouZERasWOvcjy6k+kP3kyBd1rrqMScxPxCyAPNQ13PAz7ZkaVMjLkGqogFnzRPdSKk2QE0zx1PGV5+si3O7OgGc3f1RMCkPIqd4ErZMBjmSOiC238p2GcHtjqZjlzocgnE6f2WU4Q3PGdXVlczx4fH5c8gG7GsSo="
    - secure: "adWA9vU8bz2TcQe3hqh7KLIv8wemPDjf0v/dEGODY+Go+esWzQ7lgZ0tWe54h5lDus+nFAh0aATRnhVabRPmwn/fhbPQGJaVQWzKynkbRwoyu4hgiif27uvq2M79C+6/9g40+GCzncKO2b24aSni1fx/Ic8tSI6AqyTiol+qHoPrZMZNZRzQHq0EFQZiGQIsetmD1BHoE2vlTV8RAKxWrexbBG0ciC45fKsfdmNAGTJYQfFo3+DMUhbJNXvBvGDeJ6V2UJCY5mij1BAlGimruu/nDi5TMmgUw5CYCkqNa2JFk8IOreSA2U1BpgG9GfwwDC/1kP4kn78r8ftXxZcVQSreM58gn5eG4dX95yVekwtWWm1Quf8lWr9und83NNyReooJdrkJsEF6xMzy4JvGayEpGhfw8OL3RhTgwiBcKAt72UfEQIbxNFLLfjt1/Zaq2XH4vmg+fYXNfZfAvPCNBMgT6jq5lhNPp1h1oYYG4r2Y5G+kyGKs9QQ2jO9zjGq9/0goWsFC9n/TQdUV2+TSmwxgS8yXdVPGEUNXKEg49UuBhQgRJbFS5jRA0Fe0xeiFzo7XlWlCsMIz0XFVTHp1QIX+/OLCyb6k2zmxXHi13VI2ZIYR9vymQreUOLWaHc+4FB2bvZS9D7s5PX9lNQkEJE2yOj/6nC2GkeB/y2A8lbg="

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle

sudo: false