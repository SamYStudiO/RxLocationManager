language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "24333f8a63b6825ea9c5514f83c2829b004d1fee" > "$ANDROID_HOME/licenses/android-sdk-license"
  - chmod +x gradlew
  - chmod +x .buildscript/deploy_snapshot.sh

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
    - secure: "A70kjX9g7R86+JupRCMNWT2+Gs7lggIqcHkJqflPQsMgZuh6lXfZi4kCyU4i5R6txsip+ZVFuWmSICwdbcxqgch1dSgE2qcfrwIVD4TWJ9Fb+9wSnoNoKB4ahF4v+Hi9ywEmnYvA9cPrEdZnJn+1QjYQDxsWOPa6V/W6W1RFSbF1se2Ws/NHPG6iySgpB8YT05kypvYhwa0KTgNM9eel5mgABvhA/G4vxgWbXLkE5TSjpW4Akktr2FKq7BQM3PeQCg6zNPiNG7tVx6LAumB1RSgTY7jqIqtw1YHw+VizkmFNXB+OzR8HdjcuI771V/e4buF7c8UIbqmJwpK4l/Q3SWWLPet2eIiz0OKgqyD1tgwDRIOeWHfomYyJh6cnHzqBsmVCfa5cYPqGC/FbYaEB/m5e1fQOmKZz3BbJrvdgMYtMZsbH7e1KIAQYVlM9hTv2fKPr4lJ6BW2cMFCMs3k79kvjcH8wf3C46U0bFw+9VAi0ZbZFBYFjI0qBhIrtxZFLW/N/Zl1tLnEtr7Vz/85JyO9vRpCDHmZZ0WnoghM24ZZqfUwiUbz6Yz6BnzfDC3tP0HNyw2HWuVSwFAT2foncH/2ffKqCauYdlaH2vUpVgpxm3nEHLf7zvCatkJ0UznKD+aNxB1EWMPbWKnt773oleKI97q6zleygyBIkBSVdpR4="
    - secure: "COOHzjVVg7BYp44cpSM9Iock5sxO+eMhbSh5lXBTIt/P5F7dDuXyrf32ejt/r7pmj9itC25WpwA6av4miTUWuuoWpQmC7pGhD91e2VfMYepA49zJrjVaxWOKK0IxVxeMuVvsUD+Bs/IymWMxS1F23EN0voF4y0GnnOUgiS1lTrhB5M1Uybyoc3qjZzL4JFgjTUyOnIZCEfW2aZ1SQDcuZt/hFsbJ8w84paIUqM/GoKXJ/CvBx7rC19xjlqxgZP/sEzO9MpNU11IqGx56SpYUiUmd+6O0H653ev5buGCaJ4+JEktXucAQr5sXTBKnby0hXo5Wr1/D4kdXQt5AreTdWtm8yRDGe+eI5zoC4oDi/aqGaMwauKshASMhxvV/Uf6TqibCD+CFnz6gxbLRc95A7frr9k/IpqfMKRtnOgOSc+8Of88ahVHjhnKbS/eCPqiYXN7r7QyWx93+haks43Q8AOpqn2tOG7ux8dAGpizwBkOxHr7mhCsQI1Xvxj0Fkh33cnOww3sIgCiBFX0a9GiQRc8tA40zfx8gvjFWQC2yY4zkWrwgfarTzssFHbdub9uFoJG+3/Ps1ceCE5Q3y8e4z5t82a8VJkLp08ph+RmbF35YEsMXduqWUrecb+59t4jp2uLmDcHPqm3n4CqEelw9nOl0SEjd3LT3YCWJGWRPgHw="

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle

sudo: false