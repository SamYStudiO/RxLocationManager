language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "d56f5187479451eabf01fb78af6dfcb131a6481e" > "$ANDROID_HOME/licenses/android-sdk-license"
  - chmod +x gradlew
  - chmod +x .buildscript/deploy_snapshot.sh

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
  - secure: "nxjDJ2yzTWYsfkvgUxghqslHQjNw6cq/G/HXbZrUgrzVh/p33E3Xv+arwnf9bXfFfabnzf+11CC4KZDtCGQd8LjDUiZPPDnmV8RSpFur2nZYF9S1xq9bEYJzk961xJ6OqI8ix3Zw4e+rJfiEoEotbv1CTKEZgpgKGJj5UIWe3ZB8I5yh8GkZqTHunqlwS/YmQkEi8rOfzxyzPwR8tOIWDVXVzcAujvCvymg8tFS9aAYFBPCtdmpmPbxv1SAsbkGcNu0XFklQvOn1aP5K4gfT2ffBqF7axQ6SHA1OiOduBZ5OtI4koXxwEh2aIiF6cUBBKbZM4k3r1PTf/Ait/iRGPTGCmRTLSdYRUQnNE2svVzgCKmHruorqGrGwc3agqad4JV4z3IaqBiK9eOXweWGm0BWLDMgL9/p5K9RisupPWQWwvnrGXO6ZdfGTXtVuVAZ6+vdYJL1d+2AlxzrHkeU07x8kpWu8BZh7ZGFqGJ/gdrnV/BaCOpy1/EiPZFxAZmssgrR3muQjmwccC33zczvkQ8xL/qIHqw9kOtiv336Dtk2aVAvZk0djjb99MSmodGtUnfk7pcfIjMqqkbmRyMFP6S8781OiGvfkZHU24zxQBg4qzfjzLHMgehRM0xPrL1Zf8KsfBSK0v4nY+jzPbG4wjbh5rGKizRjC7nQsLGVAWlQ="
  - secure: "RnammZEr2sucnE2MJ/tJPnrdd7sVe1wyUj68yaX00dgK0cu7+mMC6C8lLRnqxBdccN4DuznMn05nir/mylyQfKxEjtjxOrv6FLd6fScXv2j87doAG2dYO8mFdL47rxMnTxAM5zGVBNbFEYMfL1kdbqakHarP5FpRsvjzFp5+x29evi+ry69/IgamlMS99Svs+3OiLhL8m50kmusUP4nAYxSllEjQfdHaqSXale24Vdwel2BcpQeNH88tUTyWXmcX8dlQi1pqNucOzkShDredbc5RqRBiAFkhlpi+Sh1KSpGt0D9wxcWoU8KUQClqe+W0k8j9ni6yb9z3V0/zDwgTSVcgerC9cpbcirI2YBBctHScw5jEq6sKvStGDcV6zH/VkD6UBr6T14yATd5pNwDyGm3u7w+jUNWjU2sDcjC0kjjukqFXD2+j9NEJxDh2W8df6nBjYshLzsBMXI6rK1CYQxzpM79DJz5JZpLAV01sKMA8SHUCfd1ezv4VtIMjoOJ/Qjg8XY5yiNIC/d89Hpeo7C9GbJNeMw4Nc3dicmI1ssv2qYTaPH6tm5a3L8+Q0qK0gWK4ilGOzjJjrH4H14BbzQr+55UMyHLrgslVj0+RNmu3YneyiDamaZ7CjAbQi6/GkeK3MbdAnT+bJMdKpZ5MaZ7Z89BmeknU6Okz7/8xMW0="

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle

sudo: false