language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "d56f5187479451eabf01fb78af6dfcb131a6481e" > "$ANDROID_HOME/licenses/android-sdk-license"
  - chmod +x gradlew
  - chmod +x .buildscript/deploy_snapshot.sh

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
  - secure: "rTzBP01u8TdnJ6DtKBR0mKU6Fa3yuJpKfxp7OHMt1aeqsKnkqldeuGVHjMafsozDnkBVrKJalOUMF/s2+mibRq/l1srVHSpCoj2iaQ1I5m4DAGTPSttQYxPHGK3DUkARapis8F8Osh49ZOAl9mLMHFD90HmmQf+2FnMTMtnhL3tSVwq9xorQU+tMNceMqPUZ9X5GCXxhBq9uw5dZ1vdOlfogMl6Ub3Mzlbq8rH3mSHWqQ0WdlFUFcDAAGmmH6iBrsADBw4WPunAzCQqpln5zKRa5utgHtDOnRZtzhmdbgWXqfDgLiCnBby3294T8fAdicAWhvXb7n5NjKC4USJEJF7zb53X9Gms/l0Qg+rmAVYRV/QqTHMrxYCsXVm75Q8sBJzdhgEcdY8lqUmq62fnEadaNQDjtqMnRiFs8xGUFd9zqqG9Dm/Cl3oBzjuLBjOtMpayW9bwpnL/iwghoSAC5HwpYI3cAWSuAxR4hOEU3QFLrImG8MiR4IaWB5HxNo5kWJUCNlwMdYFr+wxdGhzatSiZdYCIcmqHppuoFvH5bp/Cmmd/9M8CAKEGm3APWDL49U3a484/Kk0BYrajK4rLH1PIknRoz+fcMBNafwY17Xd4Qn1S8rNzyzFY/d8C4G5rd9oIjb2cv7yfX/PTpi+tEY0GIxfXWSayj9Xr+mQ18ru0="
  - secure: "meecSHz63372fats6F7I9WS0q9hRZmvzjP2XbSnYkAK5Ca4IjOx7yIz9dUe5qSwFkt9jzkkhQLpX5mj6uetFKyryNhncWjtliY+v756e5cc2U70F88oPgninR/8nzw2uTXwF8XCSsjDrRDbXcwGc2niPb//VSURPBs7wegFvzub6k1EovmFsMEA1MiFTK0lDeS7EuGF6kny2DqunLQ3dvMDMOcc2/A+6Msld39xcO5RoVLjfX28oeXmj8LMffamQg+omemMO22PHahhxcRHMJIDSrOXqxZhC+LrjTDdsgdzG18fNHoP35ZSTmFqn3iV0NmlHOxE0rGKm7681hlIb9Pi9V4s9wdpGTunwnK7Klt5748aw06439BkERuZonu6umvTS6lXdOPN58GuJPgAH0oh1fcqKym7SW3FJOpdOCnggjKqzIQsXvwAwVy0277rDUHjcZWuvHHgQ0O18wv78M3kF86uXjP7IjWsTduwE4Jc4zzJM5NmuiDhqvKLc9u/HOOwkzkH+agG2W2DZBSdQnAGrOxKflKtGUw9DVhhoFQe2BsX6ZPMuoDduyhoT/Fix4KoN9uix5V5N3REpvXbOjVEBwSPIzW0j7+EBNvDxUtOJpHa0wYPUTMrzZQas8IBTUAtDSeIj23eltok7JT8ekXmHlVviVzRI5GgKrV23RfU="


before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle

sudo: false